%
% paging.mms -- test v2p, itc and dtc
%

		LOC		#00000000
		% segmentsizes: 1,3,2,7; pageSize=2^13; r=0x2000; n=4
RV		OCTA	#13270D0000002020

		LOC		#00002008
		OCTA	#0000000000200027	% PTE  1    (#0000000000002000 .. #0000000000003FFF)

		LOC		#00006008
		OCTA	#8000000000400020	% PTP1 1    (#2000000000800000 .. #2000000000FFFFFF)
		LOC		#00400000
		OCTA	#0000000000208027	% PTE  0    (#2000000000800000 .. #2000000000801FFF)

		LOC		#0000E008
		OCTA	#800000000041C020	% PTP4 1    (#6020000000000000 .. #603FFFFFFFFFFFFF)
		LOC		#0041C000
		OCTA	#800000000041E020	% PTP3 0    (#6020000000000000 .. #602007FFFFFFFFFF)
		LOC		#0041E000
		OCTA	#8000000000420020	% PTP2 0    (#6020000000000000 .. #60200001FFFFFFFF)
		LOC		#00420000
		OCTA	#8000000000422020	% PTP1 0    (#6020000000000000 .. #60200000007FFFFF)
		LOC		#00422000
		OCTA	#0000000000220027	% PTE  0    (#6020000000000000 .. #6020000000001FFF)
		
		
		LOC		#1000
Main	SETH	$0,#8000
		ORL		$0,RV
		LDOU	$0,$0,0
		PUT		rV,$0
		
		SETH	$0,#6020
		LDOU	$1,$0,0
		STCO	#7,$0,0
		
		% halt cpu
		TRAP	0
