%
% immrounding.mms -- tests rounding as immediate-value
%

		LOC		#0000
		OCTA	#3FFFFFFFFFFFFFFB
		OCTA	#3FF6666666666666
		OCTA	#C002666666666666
		OCTA	#41678BC640000000
	
		LOC		#1000

Main	SET		$0,#0000

		% test FINT
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		FINT	$2,ROUND_OFF,$1
		FINT	$3,ROUND_UP,$1
		FINT	$4,ROUND_DOWN,$1
		FINT	$5,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		FINT	$6,ROUND_OFF,$1
		FINT	$7,ROUND_UP,$1
		FINT	$8,ROUND_DOWN,$1
		FINT	$9,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		FINT	$10,ROUND_OFF,$1
		FINT	$11,ROUND_UP,$1
		FINT	$12,ROUND_DOWN,$1
		FINT	$13,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		FINT	$14,ROUND_OFF,$1
		FINT	$15,ROUND_UP,$1
		FINT	$16,ROUND_DOWN,$1
		FINT	$17,ROUND_NEAR,$1


		% test FSQRT
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		FSQRT	$18,ROUND_OFF,$1
		FSQRT	$19,ROUND_UP,$1
		FSQRT	$20,ROUND_DOWN,$1
		FSQRT	$21,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		FSQRT	$22,ROUND_OFF,$1
		FSQRT	$23,ROUND_UP,$1
		FSQRT	$24,ROUND_DOWN,$1
		FSQRT	$25,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		FSQRT	$26,ROUND_OFF,$1
		FSQRT	$27,ROUND_UP,$1
		FSQRT	$28,ROUND_DOWN,$1
		FSQRT	$29,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		FSQRT	$30,ROUND_OFF,$1
		FSQRT	$31,ROUND_UP,$1
		FSQRT	$32,ROUND_DOWN,$1
		FSQRT	$33,ROUND_NEAR,$1


		% test FLOT
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		FLOT	$34,ROUND_OFF,$1
		FLOT	$35,ROUND_UP,$1
		FLOT	$36,ROUND_DOWN,$1
		FLOT	$37,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		FLOT	$38,ROUND_OFF,$1
		FLOT	$39,ROUND_UP,$1
		FLOT	$40,ROUND_DOWN,$1
		FLOT	$41,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		FLOT	$42,ROUND_OFF,$1
		FLOT	$43,ROUND_UP,$1
		FLOT	$44,ROUND_DOWN,$1
		FLOT	$45,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		FLOT	$46,ROUND_OFF,$1
		FLOT	$47,ROUND_UP,$1
		FLOT	$48,ROUND_DOWN,$1
		FLOT	$49,ROUND_NEAR,$1


		% test FLOTU
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		FLOTU	$50,ROUND_OFF,$1
		FLOTU	$51,ROUND_UP,$1
		FLOTU	$52,ROUND_DOWN,$1
		FLOTU	$53,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		FLOTU	$54,ROUND_OFF,$1
		FLOTU	$55,ROUND_UP,$1
		FLOTU	$56,ROUND_DOWN,$1
		FLOTU	$57,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		FLOTU	$58,ROUND_OFF,$1
		FLOTU	$59,ROUND_UP,$1
		FLOTU	$60,ROUND_DOWN,$1
		FLOTU	$61,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		FLOTU	$62,ROUND_OFF,$1
		FLOTU	$63,ROUND_UP,$1
		FLOTU	$64,ROUND_DOWN,$1
		FLOTU	$65,ROUND_NEAR,$1


		% test SFLOT
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		SFLOT	$66,ROUND_OFF,$1
		SFLOT	$67,ROUND_UP,$1
		SFLOT	$68,ROUND_DOWN,$1
		SFLOT	$69,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		SFLOT	$70,ROUND_OFF,$1
		SFLOT	$71,ROUND_UP,$1
		SFLOT	$72,ROUND_DOWN,$1
		SFLOT	$73,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		SFLOT	$74,ROUND_OFF,$1
		SFLOT	$75,ROUND_UP,$1
		SFLOT	$76,ROUND_DOWN,$1
		SFLOT	$77,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		SFLOT	$78,ROUND_OFF,$1
		SFLOT	$79,ROUND_UP,$1
		SFLOT	$80,ROUND_DOWN,$1
		SFLOT	$81,ROUND_NEAR,$1


		% test SFLOTU
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		SFLOTU	$82,ROUND_OFF,$1
		SFLOTU	$83,ROUND_UP,$1
		SFLOTU	$84,ROUND_DOWN,$1
		SFLOTU	$85,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		SFLOTU	$86,ROUND_OFF,$1
		SFLOTU	$87,ROUND_UP,$1
		SFLOTU	$88,ROUND_DOWN,$1
		SFLOTU	$89,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		SFLOTU	$90,ROUND_OFF,$1
		SFLOTU	$91,ROUND_UP,$1
		SFLOTU	$92,ROUND_DOWN,$1
		SFLOTU	$93,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		SFLOTU	$94,ROUND_OFF,$1
		SFLOTU	$95,ROUND_UP,$1
		SFLOTU	$96,ROUND_DOWN,$1
		SFLOTU	$97,ROUND_NEAR,$1


		% test FIX
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		FIX	$98,ROUND_OFF,$1
		FIX	$99,ROUND_UP,$1
		FIX	$100,ROUND_DOWN,$1
		FIX	$101,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		FIX	$102,ROUND_OFF,$1
		FIX	$103,ROUND_UP,$1
		FIX	$104,ROUND_DOWN,$1
		FIX	$105,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		FIX	$106,ROUND_OFF,$1
		FIX	$107,ROUND_UP,$1
		FIX	$108,ROUND_DOWN,$1
		FIX	$109,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		FIX	$110,ROUND_OFF,$1
		FIX	$111,ROUND_UP,$1
		FIX	$112,ROUND_DOWN,$1
		FIX	$113,ROUND_NEAR,$1


		% test FIXU
		LDOU	$1,$0,#0			% #3FFFFFFFFFFFFFFB
		FIXU	$114,ROUND_OFF,$1
		FIXU	$115,ROUND_UP,$1
		FIXU	$116,ROUND_DOWN,$1
		FIXU	$117,ROUND_NEAR,$1

		LDOU	$1,$0,#8			% #3FF6666666666666
		FIXU	$118,ROUND_OFF,$1
		FIXU	$119,ROUND_UP,$1
		FIXU	$120,ROUND_DOWN,$1
		FIXU	$121,ROUND_NEAR,$1

		LDOU	$1,$0,#10			% #C002666666666666
		FIXU	$122,ROUND_OFF,$1
		FIXU	$123,ROUND_UP,$1
		FIXU	$124,ROUND_DOWN,$1
		FIXU	$125,ROUND_NEAR,$1

		LDOU	$1,$0,#18			% #41678BC640000000
		FIXU	$126,ROUND_OFF,$1
		FIXU	$127,ROUND_UP,$1
		FIXU	$128,ROUND_DOWN,$1
		FIXU	$129,ROUND_NEAR,$1


		TRAP	0
